<ng-container *ngIf="event$ | async as event; else notFound">
  <div class="container mt-4">
    <h1>Register for: {{ event.title }}</h1>

    <form [formGroup]="form" (ngSubmit)="submit()" class="mt-3">
      <div class="mb-3">
        <label class="form-label">First name</label>
        <input formControlName="firstName" class="form-control" />
        <div *ngIf="submitted && form.controls.firstName.invalid" class="text-danger small">First name is required.</div>
      </div>

      <div class="mb-3">
        <label class="form-label">Last name</label>
        <input formControlName="lastName" class="form-control" />
        <div *ngIf="submitted && form.controls.lastName.invalid" class="text-danger small">Last name is required.</div>
      </div>

      <div class="mb-3">
        <label class="form-label">Email</label>
        <input formControlName="email" class="form-control" />
        <div *ngIf="submitted && form.controls.email.invalid" class="text-danger small">A valid email is required.</div>
      </div>

      <button class="btn btn-primary" type="submit">Submit</button>

      <div *ngIf="success" class="alert alert-success mt-3">Registration successful â€” returning to event...</div>
    </form>
  </div>
</ng-container>

<ng-template #notFound>
  <div class="container mt-4">
    <h2>Event not found</h2>
  </div>
</ng-template>
